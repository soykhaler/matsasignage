<!DOCTYPE html>
<html>
<head>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Oswald', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            justify-content: center;
        }

        .grid-container {
            display: flex;
            flex-direction: column;
            gap: 4px;
            justify-content: center;
            align-items: center;
        }
        .grid-item {
    background-size: cover;
    width: 100%;
    text-align: center;
    color: white;
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2em;
    box-shadow: 0 -8px 10px rgba(0, 0, 0, 0.3);
    text-shadow: 2px 2px rgba(0, 0, 0, 0.5);
    margin-bottom: 10px;
    padding: 80px; /* Ajusta la altura aumentando o disminuyendo este valor */
}



        .navbar {
            display: flex;
            justify-content: center;
            align-items: center;
            position: fixed;
            bottom: 0;
            width: 100%;
            height: 70px;
            background-color: #ffffff;
            text-shadow: 2px 2px rgba(0, 0, 0, 0.5);
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.15);
        }

        #iframeContainer {
          display: none;
          position: fixed;
          top: 10%;
          left: 10%;
          width: 80%;
          height: 80%;
          z-index: 1000;
          background-color:white; 
          border-radius: 10px;
          box-shadow: 5px 5px 15px rgba(0,0,0,0.3);
          text-shadow: 2px 2px rgba(0, 0, 0, 0.5);
        }

        #closeButton {
          position: absolute; 
          right: 20px; 
          top: 20px; 
          cursor: pointer; 
          font-size: 50px; 
          color: #000000;
          background-color: white;
          text-shadow: 3px 3px rgba(0, 0, 0, 0.5);
        }
    </style>
</head>
<body>
    <div class="grid-container">
        <div class="grid-item" style="background-image:url('https://sandfirematsa.es/wp-content/uploads/2Feb_Matsa-3-scaled.jpg');" onclick="openIframe('https://sandfirematsa.es/sala-de-prensa/');">Noticias </div>
        <div class="grid-item" style="background-image:url('https://sandfirematsa.es/wp-content/uploads/MATSA_Julio-461-scaled.jpg');" onclick="openIframe('https://soykhaler.github.io/matsasignage/comunicados/comunicado1');">Comunicados</div>
        <div class="grid-item" style="background-image:url('https://sandfirematsa.es/wp-content/uploads/cabecera-comunidades.jpg');" onclick="openIframe('https://soykhaler.github.io/matsasignage/encuestamenus');">Encuestas</div>
    </div>
    <div class="navbar">
        <img src="https://sandfirematsa.es/wp-content/uploads/2022/01/logo-sandfirematsa.png" alt="Logo" style="width:auto;height:auto;max-width:346px;max-height:90px;">
    </div>
    <!-- The iframe container -->
    <div id="iframeContainer">
      <span id="closeButton" onclick="closeIframe();">&nbsp; X &nbsp;</span>
      <span id="homeButton" onclick="goToInitialLink();" style="position: absolute; top: 100%; left: 50%; transform: translateX(-50%); width: 100px; height: 100px; background-color: white; text-align: center; line-height: 100px;">Home</span>
      <iframe id="iframe" src="https://sandfirematsa.es/sala-de-prensa/" style="width:100%; height:100%;" onload="updateCurrentUrl()"></iframe>
    </div>

    <script>
     var initialLink = "about:blank";
     function goToInitialLink() 
      {
        document.getElementById('iframe').src = initialLink;
      }

      let timeoutId;
      const idleTime = 180000; // 1 minuto en milisegundos = 180000;
      function resetTimer() {
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
          window.location.href = 'https://soykhaler.github.io/matsasignage/Modo_Inactivo';
        }, idleTime);
      }

      function setupTimer() {
        document.addEventListener('mousemove', resetTimer);
        document.addEventListener('keydown', resetTimer);
        document.addEventListener('click', resetTimer);
        resetTimer();
      }

      window.addEventListener('DOMContentLoaded', setupTimer);

      function openIframe(url) {
        document.getElementById('iframe').src = url;
        document.getElementById('iframeContainer').style.display = 'block';
        initialLink = url;
      }

      function closeIframe() {
        document.getElementById('iframe').src = '';
        document.getElementById('iframeContainer').style.display = 'none';
      }
    </script>
</body>
</html>
